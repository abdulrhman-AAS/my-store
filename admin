<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Admin - إدارة المنتجات</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Tajawal', sans-serif; margin:20px; background:#f5f7fb; }
    h1 { color:#0b84ff; }
    .product-card { background:white; padding:15px; margin-bottom:15px; border-radius:12px; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
    .product-card input, .product-card textarea { width:100%; padding:8px; margin:4px 0; border-radius:6px; border:1px solid #ccc; }
    .product-card img { max-width:150px; max-height:150px; display:block; margin-bottom:8px; }
    button { padding:10px 14px; border:none; border-radius:8px; cursor:pointer; margin-top:6px; }
    .save-btn { background:#0b84ff; color:white; }
    #jsonOutput { width:100%; height:200px; margin-top:15px; }
  </style>
</head>
<body>

<h1>واجهة إدارة المنتجات</h1>
<div id="productsContainer"></div>

<button class="save-btn" onclick="exportJSON()">نسخ JSON النهائي</button>
<textarea id="jsonOutput" placeholder="هنا سيظهر JSON بعد الضغط على نسخ"></textarea>

<script>
// مثال للبيانات الأولية
let products = [
  {title:"S10", description:"هاتف S10", price:12000, image:"/images/uploads/S22U1.jpg"},
  {title:"S10e", description:"هاتف S10e", price:10000, image:"/images/uploads/placeholder.jpg"},
  {title:"S20", description:"هاتف S20", price:18000, image:"/images/uploads/placeholder.jpg"}
];

// إنشاء البطاقات ديناميكياً
function renderProducts() {
  const container = document.getElementById('productsContainer');
  container.innerHTML = '';
  products.forEach((p, idx) => {
    const div = document.createElement('div');
    div.className = 'product-card';
    div.innerHTML = `
      <label>العنوان:</label>
      <input type="text" value="${p.title}" oninput="products[${idx}].title=this.value">
      <label>الوصف:</label>
      <textarea oninput="products[${idx}].description=this.value">${p.description}</textarea>
      <label>السعر:</label>
      <input type="number" value="${p.price}" oninput="products[${idx}].price=parseFloat(this.value)">
      <label>رابط الصورة:</label>
      <input type="text" value="${p.image}" oninput="products[${idx}].image=this.value">
      <img src="${p.image}" alt="${p.title}">
    `;
    container.appendChild(div);
  });
}

renderProducts();

// نسخ JSON النهائي
function exportJSON() {
  const output = document.getElementById('jsonOutput');
  output.value = JSON.stringify(products, null, 2);
}
</script>

</body>
</html>
